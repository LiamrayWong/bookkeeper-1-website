{"version":3,"sources":["icons sync //.svg$","icons/chart.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/tag.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","components/Button.tsx","components/Center.tsx","components/space.tsx","views/Tags.tsx","views/money/CategorySection.tsx","views/money/NumberPad/Wrapper.tsx","views/money/NumberPad.tsx","views/money/NumberPad/generateOutput.tsx","components/Input.tsx","views/money/NoteSection.tsx","views/money/TagsSection.tsx","hooks/useRecords.tsx","views/Money.tsx","views/Statistics.tsx","views/NoMatch.tsx","views/Tag.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","children","rest","className","classNames","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","defaultProps","parseInt","window","localStorage","getItem","createId","setItem","JSON","stringify","useUpdate","fn","dependency","count","useTags","useState","tags","setTags","localTags","parse","length","findTagIndex","result","i","getName","tag","filter","t","addTag","tagName","prompt","findTag","updateTag","obj","index","tagsClone","splice","deleteTag","Button","button","Center","Space","TagList","ol","Tags","key","onClick","section","CategorySection","categoryMap","categoryList","category","value","c","onChange","NumberPad","toString","output","_setOutput","text","target","textContent","newOutput","slice","parseFloat","setOutput","includes","generateOutput","onConfirm","Label","label","Input","type","NoteSection","note","placeholder","TagsSection","selectedTagIds","tagId","indexOf","useRecords","records","setRecords","addRecord","newRecord","amount","alert","tagIds","record","createdAt","Date","toISOString","MyLayout","defaultFormData","CategoryWrapper","Money","selected","setSelected","Item","Header","h3","Statistics","setCategory","hash","r","day","format","push","array","entries","sort","a","b","date","reduce","span","concat","NoMatch","Topbar","header","InputWrapper","Tag","idString","useParams","history","useHistory","goBack","tagContent","AppWrapper","App","exact","path","from","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.f0bac8b7.chunk.js","sourcesContent":["var map = {\n\t\"./chart.svg\": 39,\n\t\"./left.svg\": 40,\n\t\"./money.svg\": 41,\n\t\"./right.svg\": 42,\n\t\"./tag.svg\": 43\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 38;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><defs><style></style></defs><path d=\\\"M271.872 603.136v158.208c0 14.336 11.264 25.6 25.6 25.6s25.6-11.264 25.6-25.6V603.136c0-14.336-11.264-25.6-25.6-25.6s-25.6 11.264-25.6 25.6zm-37.376-153.088l209.408-145.92 124.416 135.68c2.048 2.048 4.096 3.584 6.656 5.12h18.944c2.56-1.024 5.12-2.048 7.68-3.584l219.648-153.6c12.8-8.704 15.872-26.112 7.168-38.4-8.704-12.8-26.112-15.872-38.912-7.168L584.704 384 468.992 249.344c-9.216-9.728-24.576-11.264-35.84-3.584-2.56.512-5.12 1.536-7.168 3.072l-223.232 153.6c-12.8 8.704-15.872 26.112-7.168 38.4s26.112 15.872 38.4 7.168v2.048zm190.464 45.568v265.728c0 14.336 11.264 25.6 25.6 25.6s25.6-11.264 25.6-25.6V495.616c0-14.336-11.264-25.6-25.6-25.6s-25.6 11.264-25.6 25.6zm304.128 0v265.728c0 14.336 11.264 25.6 25.6 25.6s25.6-11.264 25.6-25.6V495.616c0-14.336-11.264-25.6-25.6-25.6s-25.6 11.264-25.6 25.6zm-151.552 107.52v158.208c0 14.336 11.264 25.6 25.6 25.6s25.6-11.264 25.6-25.6V603.136c0-14.336-11.264-25.6-25.6-25.6s-25.6 11.264-25.6 25.6z\\\" /><path d=\\\"M880.128 835.072H271.36c-56.32 0-102.4-46.08-102.4-102.4V162.816c0-14.336-11.264-25.6-25.6-25.6s-25.6 11.264-25.6 25.6v569.856c0 84.992 68.608 153.6 153.6 153.6h608.768c14.336 0 25.6-11.264 25.6-25.6 0-13.824-11.264-25.6-25.6-25.6z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M656 832l48-45.728L416 512l288-274.24L656 192 320 512z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M450.56 1024V797.044H160.675v-97.187H450.56v-99.793H160.675v-103.33H398.8L115.247 0h139.636l202.566 360.448a1026.42 1026.42 0 0153.062 107.613q16.011-37.236 57.344-113.943L759.249 0h148.946L625.757 496.733H864.07v103.331H577.164v99.793H864.07v97.001H577.164V1024z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M368 192l-48 45.728L608 512 320 786.24 368 832l336-320z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style></style></defs><path d=\\\"M574.933 85.333h274.731c49.152 0 89.003 39.851 89.003 89.003v274.73A89.04 89.04 0 01912.597 512L512 912.597a89.003 89.003 0 01-125.867 0L111.36 637.867a89.003 89.003 0 010-125.91L512 111.403a89.003 89.003 0 0162.933-26.07zm-2.56 86.4l-400.64 400.64a3.67 3.67 0 000 5.163l274.731 274.73a3.67 3.67 0 005.205 0l400.598-400.64a3.67 3.67 0 001.066-2.56v-274.73a3.67 3.67 0 00-3.669-3.67h-274.73a3.67 3.67 0 00-2.56 1.067zm88.96 297.6a106.667 106.667 0 110-213.333 106.667 106.667 0 010 213.333zm0-64a42.667 42.667 0 100-85.333 42.667 42.667 0 000 85.333z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\nimport classNames from 'classnames';\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\ntry {importAll(require.context('icons', true, /\\.svg$/));} catch (error) {console.log(error);}\n\ntype Props = {\n  name?: string\n} & React.SVGAttributes<SVGElement>\n\nconst Icon = (props: Props) => {\n  const {name,children,...rest} = props\n  return (\n    <svg className={classNames('icon')} {...rest}>\n      {props.name && <use xlinkHref={'#' + props.name}/>}\n    </svg>\n  );\n};\n\nexport default Icon;","import styled from 'styled-components';\nimport {NavLink} from 'react-router-dom';\nimport React from 'react';\nimport Icon from './Icon';\n\n\nconst NavWrapper = styled.nav`\n    line-height: 24px;\n    box-shadow: 0 0 3px rgb(0,0,0,0.25);\n    background: white;\n    > ul{\n      display: flex;\n      > li {\n        width: 33.3333%;\n        text-align: center;\n        font-size: 14px;\n        color: #333333;\n        > a {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          padding-top: 6px;\n          padding-bottom: 2px;\n          .icon{\n            width: 24px;\n            height: 24px;\n            fill:#333333;\n          }\n          &.selected{\n            color: #f60;\n            .icon{\n              fill: #f60;\n            }\n          }\n        }\n      }\n    }\n`;\n\n\nconst Nav = () => {\n  return (\n    <NavWrapper>\n      <ul>\n        <li>\n          <NavLink  to=\"/tags\" activeClassName=\"selected\">\n            <Icon name='tag'/>\n            标签页\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/money\" activeClassName=\"selected\">\n            <Icon name='money'/>\n            记账页\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/statistics\" activeClassName=\"selected\">\n            <Icon name='chart'/>\n            统计页\n          </NavLink>\n        </li>\n      </ul>\n    </NavWrapper>\n  );\n};\n\nexport default Nav;","import Nav from './Nav';\nimport React, {useEffect, useRef} from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n`;\nconst Main = styled.div`\n  flex-grow: 1;\n  overflow: auto;\n`;\n\ntype Props = {\n  className?: string;\n  scrollTop?: number;\n}\n\nconst Layout: React.FC<Props> = (props: any) => {\n  const mainRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    setTimeout(()=>{\n      if (!mainRef.current) {return;}\n      mainRef.current.scrollTop = props.scrollTop!;\n    },0)\n  }, [props.scrollTop]);\n  return (\n    <Wrapper>\n      <Main ref={mainRef} className={props.className}>\n        {props.children}\n      </Main>\n      <Nav/>\n    </Wrapper>\n  );\n};\n\nLayout.defaultProps = {\n  scrollTop: 0\n};\n\nexport {Layout};","let id = parseInt(window.localStorage.getItem('iMax') || '0');\nconst createId = (): number => {\n  id += 1;\n  window.localStorage.setItem('iMax', JSON.stringify(id));\n  return id;\n};\n\nexport {createId};","import {useEffect, useRef} from 'react';\n\n\nconst useUpdate = (fn:()=>void,dependency:any[]) => {\n  const count = useRef(0);\n  useEffect(() => {\n    count.current += 1;\n  });\n  useEffect(() => {\n    if (count.current > 1) {\n      fn()\n    }\n  }, [fn,dependency]); //每次变化生成新的对象\n};\n\nexport {useUpdate}\n","import {useEffect,useState} from 'react';\nimport {createId} from 'lib/createId';\nimport {useUpdate} from 'hooks/useUpdate';\n\n\nconst useTags = () => {\n    const [tags, setTags] = useState<{ id: number; name: string }[]>([]);\n    useEffect(() => {\n      let localTags = JSON.parse(window.localStorage.getItem('tags') || '[]');\n      if (localTags.length === 0) {\n        localTags = [\n          {id: createId(), name: '衣'},\n          {id: createId(), name: '食'},\n          {id: createId(), name: '住'},\n          {id: createId(), name: '行'}\n        ];\n      }\n      setTags(localTags);\n    }, []);\n    useUpdate(() => {\n      window.localStorage.setItem('tags', JSON.stringify(tags));\n    }, tags);\n    const findTag = (id: number) => tags.filter(tag => tag.id === id)[0];\n    const addTag = () => {\n      const tagName = window.prompt('请输入新的标签');\n      if (tagName !== null && tagName !== '') {\n        setTags([...tags, {id: createId(), name: tagName}]);\n      }\n    };\n    const findTagIndex = (id: number) => {\n      let result = -1;\n      for (let i = 0; i < tags.length; i++) {\n        if (id === tags[i].id) {\n          result = i;\n          break;\n        }\n      }\n      return result;\n    };\n    const updateTag = (id: number, obj: { name: string }) => {\n      //获取 tag 的下标\n      const index = findTagIndex(id);\n      //深拷贝 tags 得到 tagsClone\n      const tagsClone = JSON.parse(JSON.stringify(tags));\n      //splice的返回值是删除的元素\n      tagsClone.splice(index, 1, {id: id, name: obj.name});\n      setTags(tagsClone); //不可变数据，以前的tags是以前的\n    };\n    const deleteTag = (id: number) => {\n      const index = findTagIndex(id);\n      const tagsClone = JSON.parse(JSON.stringify(tags));\n      tagsClone.splice(index, 1);\n      setTags(tagsClone);\n    };\n    const getName = (id: number) => {\n      const tag = tags.filter(t => t.id === id)[0];\n      return tag ? tag.name : '';\n    };\n    return {tags, getName, setTags, addTag, findTag, updateTag, findTagIndex, deleteTag};\n  }\n;\n\nexport {useTags};","import styled from 'styled-components';\n\nconst Button = styled.button`\n  font-size: 18px;\n  border: none;\n  padding: 10px 12px;\n  background: #767676;\n  border-radius: 4px;\n  color: white;\n`;\nexport {Button}","import styled from 'styled-components';\n\nconst Center = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\nexport {Center}","import styled from 'styled-components';\n\nconst Space = styled.div`\n  height: 42px;\n`;\n\nexport {Space}","import {Layout} from 'components/Layout';\nimport React from 'react';\nimport {useTags} from 'hooks/useTags';\nimport styled from 'styled-components';\nimport Icon from 'components/Icon';\nimport {Link} from 'react-router-dom';\nimport {Button} from 'components/Button';\nimport {Center} from 'components/Center';\nimport {Space} from 'components/space';\n\nconst TagList = styled.ol`\n  background: white;\n  font-size: 16px;\n  > li{\n    border-bottom: 1px solid #d5d5d5;\n    margin: 0 16px; \n    > a{\n      padding: 12px 0 12px 0;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n  }\n`;\n\n\nfunction Tags() {\n  const {tags,addTag} = useTags();\n\n  return (\n    <Layout>\n      <TagList>\n        {tags.map(tag =>\n          <li key={tag.id}>\n            <Link to={'/tags/' + tag.id}>\n              <span className='oneLine'>{tag.name}</span>\n              <Icon name=\"right\"/>\n            </Link>\n          </li>\n        )}\n      </TagList>\n      <Center>\n        <Space/>\n        <Button onClick={addTag}>新增标签</Button>\n      </Center>\n    </Layout>\n  );\n}\n\nexport {Tags};","import styled from 'styled-components';\nimport React, {useState} from 'react';\n\nconst Wrapper = styled.section`\n  font-size: 24px;\n  > ul{\n    display: flex;\n    > li{\n     padding: 18px 0;\n     width: 50%;\n     text-align: center;\n     position: relative;\n     &.selected::after{\n      content: \"\";\n      display: block;\n      height: 3px;\n      background: #333;\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n      left: 0;\n     }\n    }\n  }  \n`;\ntype Category = '-' | '+'\ntype Props = {\n  value:Category;\n  onChange: (category:Category) => void;\n}\n\nconst CategorySection: React.FC<Props> = (props) => {\n  const categoryMap = {'+': '收入', '-': '支出'};\n  type Keys = keyof typeof categoryMap\n  const [categoryList] = useState<Keys[]>(['+', '-']);\n  const category = props.value\n  return (\n    <Wrapper>\n      <ul>\n        {categoryList.map(c => <li key={c} className={category === c ? 'selected' : ''}\n           onClick={() => {props.onChange(c);}} >{categoryMap[c]}</li>)}\n      </ul>\n    </Wrapper>\n  );\n};\n\nexport {CategorySection};","import styled from 'styled-components';\n\nconst Wrapper = styled.section`\n  display: flex;\n  flex-direction: column;\n  font-size: 18px;\n  > .output{\n    background: white;\n    font-size: 36px;\n    line-height: 72px;\n    text-align: right;\n    padding: 0 16px;\n    box-shadow: inset 0 -5px 5px -5px rgba(0,0,0,0.25),\n                inset 0 5px 5px -5px rgba(0,0,0,0.25);\n  }\n  > .pad{\n    > button{\n      float: left;\n      width: 25%;\n      height: 64px;\n      border: none;\n      &.ok{\n      height: 128px;\n        float: right;\n      }\n      &.zero{\n        width: 50%;\n      }\n      &:nth-child(1){\n        background: #F2F2F2;\n      }\n      &:nth-child(2),\n      &:nth-child(5){\n        background: #E0E0E0;\n      }\n      &:nth-child(3),\n      &:nth-child(6),\n      &:nth-child(9){\n        background: #D3D3D3;\n      }\n      &:nth-child(4),\n      &:nth-child(7),\n      &:nth-child(10){\n        background: #C1C1C1;\n      }\n      &:nth-child(8),\n      &:nth-child(11),\n      &:nth-child(13){\n        background: #B8B8B8;\n      }\n       &:nth-child(12){\n        background: #8B8B8B;\n      }\n      &:nth-child(14){\n        background: #A9A9A9;      \n      }\n    }\n  }\n`;\nexport {Wrapper}","import React, {useState} from 'react';\nimport {Wrapper} from './NumberPad/Wrapper';\nimport {generateOutput} from './NumberPad/generateOutput';\n\ntype Props = {\n  value: number;\n  onChange: (selectedTags: number) => void;\n  onConfirm?: () => void\n}\n\nconst NumberPad: React.FC<Props> = (props) => {\n  // const output = props.value.toString();\n  const [output, _setOutput] = useState(props.value.toString());\n  const setOutput = (output: string) => {\n    let newOutput:string\n    if (output.length > 16) {\n      newOutput = output.slice(0, 16);\n    } else if (output === '') {\n      newOutput = '0';\n    } else {\n      newOutput = output;\n    }\n    _setOutput(newOutput)\n    props.onChange(parseFloat(newOutput));\n  };\n\n  const onClickButtonWrapper = (e: React.MouseEvent) => {\n    const text = (e.target as HTMLButtonElement).textContent;\n    if (text === null) {return;}\n    if (text === '确认') {\n      if (props.onConfirm) {props.onConfirm();}\n      return;\n    }\n    setOutput(generateOutput(text, output));\n  };\n  return (\n    <Wrapper>\n      <div className=\"output\">{output}</div>\n      <div className=\"pad clearfix\" onClick={onClickButtonWrapper}>\n        <button>1</button>\n        <button>2</button>\n        <button>3</button>\n        <button>删除</button>\n        <button>4</button>\n        <button>5</button>\n        <button>6</button>\n        <button>清空</button>\n        <button>7</button>\n        <button>8</button>\n        <button>9</button>\n        <button className=\"ok\">确认</button>\n        <button className=\"zero\">0</button>\n        <button className=\"dot\">.</button>\n      </div>\n    </Wrapper>\n  );\n};\n\nexport {NumberPad};","const generateOutput = (text: string, output = '0') => {\n  switch (text) {\n    case '0':\n    case '1':\n    case '2':\n    case '3':\n    case '4':\n    case '5':\n    case '6':\n    case '7':\n    case '8':\n    case '9':\n      if (output === '0') {\n        return (text);\n      } else {\n        return (output + text);\n      }\n    case '.':\n      if (!output.includes('.')) {\n        return (output + '.');\n      } else {\n        return output;\n      }\n    case '删除':\n      if (output.length === 1) {\n        return ('');\n      } else {\n        return (output.slice(0, -1) || '');\n      }\n    case '清空':\n      return ('');\n    default:\n      return '';\n  }\n};\n\nexport {generateOutput};","import styled from 'styled-components';\nimport React from 'react';\n\nconst Label = styled.label`\n    display: flex; \n    align-items: center;\n    > span{\n      margin-right: 16px;\n      white-space : nowrap;\n    }\n    > input{\n    display: block;\n    width: 100%;\n    height: 44px;\n    border: none;\n    background: none;\n    }\n`;\ntype Props = {\n  label: string;\n} & React.InputHTMLAttributes<HTMLInputElement>;\n\nconst Input: React.FC<Props> = (props) => {\n  const {label, ...rest} = props;\n  return (\n    <Label>\n      <span>{props.label}</span>\n      <input type=\"text\" {...rest}/>\n    </Label>\n  );\n};\n\nexport {Input};","import styled from 'styled-components';\nimport React, {ChangeEventHandler} from 'react';\nimport {Input} from 'components/Input';\n\nconst Wrapper = styled.section`\n  background: #f5f5f5 ;\n  padding: 14px 16px;\n  font-size: 14px;  \n`;\ntype Props = {\n  value: string;\n  onChange: (value: string) => void\n}\nconst NoteSection: React.FC<Props> = (props) => {\n  const note = props.value;\n  const onChange: ChangeEventHandler<HTMLInputElement> = (e) => {\n    props.onChange(e.target.value);\n  };\n  return (\n    <Wrapper>\n      <Input label='备注' type='text' placeholder=\"在这里添加备注\" onChange={onChange} value={note}>\n      </Input>\n    </Wrapper>\n  );\n};\nexport {NoteSection};","import styled from 'styled-components';\nimport React from 'react';\nimport {useTags} from 'hooks/useTags';\n\nconst Wrapper = styled.section`\n  background: #FFFFFF;\n  padding: 12px 16px;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: flex-start;\n  > ol{\n   margin: 0 -12px;\n    > li{\n     background: #D9D9D9;\n     border-radius: 18px;\n     display: inline-block;\n     padding: 3px 18px;\n     font-size: 14px;\n     margin: 8px 12px; \n     &.selected{\n      background: #f60;\n     }\n     }\n  }\n  > button{\n      background: none;\n      border: none;\n      padding: 2px 4px;\n      border-bottom: 1px solid #333;\n      color: #666;\n      font-size: 14px;\n      margin-top: 8px;\n }\n`;\ntype Props = {\n  value:number[];\n  onChange: (selectedTags:number[]) => void;\n}\n\n\nconst TagsSection: React.FC<Props> = (props) => {\n  const {tags, addTag} = useTags()\n  const selectedTagIds = props.value\n\n  const onToggleTag = (tagId: number) => {\n    let index = selectedTagIds.indexOf(tagId);\n    if (index >= 0) {\n      //如果 tagId 已被选中，则复制所有没有被选中的 tagId，作为新的selectTags\n      props.onChange(selectedTagIds.filter(t => t !== tagId));\n    } else {\n      props.onChange([...selectedTagIds, tagId]);\n    }\n  };\n  const getClass = (tagId:number) => selectedTagIds.indexOf(tagId) >= 0 ? 'selected' : '';\n  return (\n    <Wrapper>\n      <ol>\n        {tags.map(tag => <li key={tag.id} onClick={\n          () => {onToggleTag(tag.id);}} className={getClass(tag.id)}>{tag.name}</li>)}\n      </ol>\n      <button onClick={addTag}>新增标签</button>\n    </Wrapper>\n  );\n};\n\nexport {TagsSection};","import {useEffect, useState} from 'react';\nimport {useUpdate} from './useUpdate';\n\n\nexport type RecordItem = {\n  tagIds: number[];\n  note: string;\n  category: '+' | '-';\n  amount: number;\n  createdAt: string; //ISO 8601\n}\n\ntype NewRecordItem = Omit<RecordItem, 'createdAt'>\n\nconst useRecords = () => {\n  const [records, setRecords] = useState<RecordItem[]>([]);\n  useEffect(() => {\n    setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'));\n  }, []);\n  const addRecord = (newRecord: NewRecordItem) => {\n    if (newRecord.amount <= 0) {\n      alert('请输入金额')\n      return false;\n    }\n    if (newRecord.tagIds.length === 0) {\n      alert('请选择标签');\n      return false;\n    }\n    const record = {...newRecord, createdAt: (new Date()).toISOString()};\n    setRecords([...records, record]);\n    return true;\n  };\n\n  useUpdate(() => {\n    window.localStorage.setItem('records', JSON.stringify(records));\n  }, records);\n  return {records, addRecord};\n};\n\nexport {useRecords};","import {Layout} from '../components/Layout';\nimport React, {useState} from 'react';\nimport styled from 'styled-components';\nimport {CategorySection} from './money/CategorySection';\nimport {NumberPad} from './money/NumberPad';\nimport {NoteSection} from './money/NoteSection';\nimport {TagsSection} from './money/TagsSection';\nimport {useRecords} from 'hooks/useRecords';\n\nconst MyLayout = styled(Layout)`\n  display: flex;\n  flex-direction: column;\n`;\n\ntype Category = '-' | '+'\n\nconst defaultFormData = {\n  tagIds: [] as number[],\n  note: '',\n  category: '-' as Category,\n  amount: 0\n};\n\nconst CategoryWrapper = styled.div`\n  background: #c4c4c4;\n`;\n\nfunction Money() {\n  const [selected, setSelected] = useState(defaultFormData);\n  const onChange = (obj: Partial<typeof selected>) => {\n    setSelected({...selected, ...obj});\n  };\n  const {addRecord} = useRecords();\n\n  const submit = () => {\n    if (addRecord(selected)) {\n      alert('保存成功');\n      setSelected(defaultFormData);\n    }\n  };\n  return (\n    <MyLayout scrollTop={9999}>\n      <TagsSection value={selected.tagIds}\n                   onChange={(tagIds) => onChange({tagIds})}/>\n      <NoteSection value={selected.note}\n                   onChange={(note) => onChange({note})}/>\n      <CategoryWrapper>\n        <CategorySection value={selected.category}\n                         onChange={(category) => onChange({category})}/>\n      </CategoryWrapper>\n      <NumberPad value={selected.amount}\n                 onChange={(amount) => onChange({amount})}\n                 onConfirm={submit}/>\n    </MyLayout>\n  );\n}\n\nexport {Money};","import {Layout} from '../components/Layout';\nimport React, {ReactNode, useState} from 'react';\nimport {CategorySection} from './money/CategorySection';\nimport styled from 'styled-components';\nimport {RecordItem, useRecords} from '../hooks/useRecords';\nimport {useTags} from '../hooks/useTags';\nimport day from 'dayjs';\n\nconst CategoryWrapper = styled.div`\n  background: white;      \n`;\n\nconst Item = styled.div`\n  display: flex;\n  justify-content: space-between;\n  background: white;\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px;\n  > .note{\n    margin-right: auto;\n    margin-left: 16px;\n    font-size: 16px;\n    color: #999;\n  }\n`;\nconst Header = styled.h3`\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px;\n`\nfunction Statistics() {\n  const [category, setCategory] = useState<'-' | '+'>('-');\n  const {records} = useRecords();\n  const {getName} = useTags();\n  const hash: { [Key: string]: RecordItem[] } = {};//{'2020-5-11':[item,item],'2020-5-12':[item,item],'2020-5-13':[item,item,item,item]}\n  const selectedRecords = records.filter(r => r.category === category);\n  selectedRecords.forEach(r => {\n      const key = day(r.createdAt).format('YYYY年MM月DD日');\n      if (!(key in hash)) {\n        hash[key] = [];\n      }\n      hash[key].push(r);\n    }\n  );\n  //把对象变成数组,顺序不能保证\n  const array = Object.entries(hash).sort((a, b) => {\n    if (a[0] === b[0]) return 0;\n    if (a[0] > b[0]) return -1;\n    if (a[0] < b[0]) return 1;\n    return 0;\n  });\n  return (\n    <Layout>\n      <CategoryWrapper>\n        <CategorySection value={category} onChange={(value) => setCategory(value)}/>\n      </CategoryWrapper>\n\n      {\n        array.map(([date,records]) => <div key={date}>\n          <Header>\n            {date}\n          </Header>\n          <div>\n            {records.map(r => {\n              return <Item key={r.createdAt}>\n                <div className=\"tags oneLine\">\n                  {r.tagIds\n                    .map(tagId => <span key={tagId}>{getName(tagId)}</span>)\n                    .reduce((result,span,index,array)=>{\n                      return result.concat(index<array.length-1?[span,'，']:[span])\n                    },[] as ReactNode[])\n                  }\n                </div>\n                {r.note && <div className=\"note\">{r.note}</div>}\n                <div className=\"amount\">\n                  ￥{r.amount}\n                </div>\n              </Item>;\n            })}\n          </div>\n        </div>)\n      }\n    </Layout>\n  );\n}\n\nexport {Statistics};","import React from 'react';\n\nfunction NoMatch() {\n  return <div>页面不存在，地址错误</div>;\n}\nexport {NoMatch}","import React from 'react';\nimport {useTags} from 'hooks/useTags';\nimport {useParams,useHistory} from 'react-router-dom';\nimport {Layout} from 'components/Layout';\nimport Icon from 'components/Icon';\nimport {Button} from 'components/Button';\nimport styled from 'styled-components';\nimport {Input} from 'components/Input';\nimport {Center} from 'components/Center';\nimport {Space} from 'components/space';\n\nconst Topbar = styled.header`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  line-height: 20px;\n  padding: 14px;\n  background: white;\n`;\n\nconst InputWrapper = styled.section`\n  background: white;\n  padding: 0 16px;\n  margin-top: 12px;\n`;\n\n\ntype Params = {\n  id: string\n}\n\nconst Tag: React.FC = () => {\n  const {findTag, updateTag, deleteTag} = useTags();\n  let {id: idString} = useParams<Params>();\n  const tag = findTag(parseInt(idString));\n  const tagContent = (tag: { id: number; name: string }) => (\n    <div>\n      <InputWrapper>\n        <Input label=\"标签名\" type='text' placeholder='标签名' value={tag.name}\n               onChange={(e) => {\n                 updateTag(tag.id, {name: e.target.value});\n               }}/>\n      </InputWrapper>\n      <Center>\n        <Space/>\n        <Button onClick={() => deleteTag(tag.id)}>删除标签</Button>\n      </Center>\n    </div>\n  );\n  const history = useHistory()\n  const onClickBack = () => {\n    history.goBack()\n  };\n  return (\n    <Layout>\n      <Topbar>\n        <Icon name=\"left\" onClick={onClickBack}/>\n        <span>编辑标签</span>\n        <Icon/>\n      </Topbar>\n      {tag ? tagContent(tag) : <Center>标签已删除</Center>}\n    </Layout>\n  );\n};\n\nexport {Tag};\n\n\n","import React from 'react';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from 'react-router-dom';\nimport {Tags} from './views/Tags';\nimport {Money} from './views/Money';\nimport {Statistics} from './views/Statistics';\nimport {NoMatch} from './views/NoMatch';\nimport {Tag} from './views/Tag';\nimport styled from 'styled-components';\n\nconst AppWrapper = styled.div`\n  color: #333;\n`;\n\n\nfunction App() {\n  return (\n    <AppWrapper>\n      <Router>\n        <Switch>\n          <Route exact path=\"/tags\">\n            <Tags/>\n          </Route>\n          <Route exact path=\"/tags/:id\" >\n            <Tag/>\n          </Route>\n          <Route exact path=\"/money\">\n            <Money/>\n          </Route>\n          <Route exact path=\"/statistics\">\n            <Statistics/>\n          </Route>\n          <Redirect exact from=\"/\" to=\"/money\"/>\n          <Route path=\"*\">\n            <NoMatch/>\n          </Route>\n        </Switch>\n      </Router>\n    </AppWrapper>\n  );\n}\n\n\nexport {App};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './App';\nimport * as serviceWorker from './serviceWorker';\nimport './index.scss'\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n\nserviceWorker.unregister();\n"],"sourceRoot":""}